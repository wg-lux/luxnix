# Postgres Notes & Commands

- The "reset-psql-safe" command safely deletes the whole database with confirmation prompts (for debugging/prototyping)
- For Nextcloud hosts, use "nextcloud-maintenance --reset-psql" for safe interactive reset
- Old dangerous "reset-psql" command has been replaced with safer alternatives

  - reset-psql-safe = interactive version with confirmation prompts
  - nextcloud-maintenance script = comprehensive maintenance tool for Nextcloud hosts

- default postgres config dir is '/var/lib/postgresql/{VERSION}/'

- run "show-psql-conf" to see print the active config to console

  - show-psql-conf = "cat ${cfg.postgresqlDataDir}/postgresql.conf";

- remote connect (s-03):
  - 'psql -h 172.16.255.13 -U postgres -W '
  - password is available at '/etc/secrets/vault/SCRT_roles_system_password_postgres_host_test_password
